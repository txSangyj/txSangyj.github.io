<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://txSangyj.github.io/</id>
    <title>ji</title>
    <updated>2023-04-12T15:55:52.103Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://txSangyj.github.io/"/>
    <link rel="self" href="https://txSangyj.github.io/atom.xml"/>
    <subtitle>å­¦ä¹ ç”¨</subtitle>
    <logo>https://txSangyj.github.io/images/avatar.png</logo>
    <icon>https://txSangyj.github.io/favicon.ico</icon>
    <rights>All rights reserved 2023, ji</rights>
    <entry>
        <title type="html"><![CDATA[åˆ©ç”¨AIå­¦ä¹ Rust]]></title>
        <id>https://txSangyj.github.io/post/li-yong-ai-xue-xi-rust/</id>
        <link href="https://txSangyj.github.io/post/li-yong-ai-xue-xi-rust/">
        </link>
        <updated>2023-04-12T15:17:52.000Z</updated>
        <summary type="html"><![CDATA[<p>å‰ä¸€æ®µæ—¶é—´Pythonçš„ç±»å‹æ³¨è§£å†™çš„å®åœ¨å¤ªéš¾å—äº†ï¼Œæƒ³èµ·äº†ä¹‹å‰çœ‹è¿‡çš„rustï¼Œé‡æ–°æ¡èµ·æ¥çœ‹çœ‹ï¼Œç„¶åå­¦åˆ°äº†AIæ—¶ä»£çš„å­¦ä¹ æ–¹æ³•ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å‰ä¸€æ®µæ—¶é—´Pythonçš„ç±»å‹æ³¨è§£å†™çš„å®åœ¨å¤ªéš¾å—äº†ï¼Œæƒ³èµ·äº†ä¹‹å‰çœ‹è¿‡çš„rustï¼Œé‡æ–°æ¡èµ·æ¥çœ‹çœ‹ï¼Œç„¶åå­¦åˆ°äº†AIæ—¶ä»£çš„å­¦ä¹ æ–¹æ³•ã€‚</p>
<!-- more -->
<h2 id="ç®€å•å‡ æ­¥">ç®€å•å‡ æ­¥</h2>
<ol>
<li>é¦–é€‰å½“ç„¶æ˜¯è¯»åŸºç¡€çš„æ–‡æ¡£ï¼Œ<a href="https://kaisery.github.io/trpl-zh-cn/">Rustç¨‹åºè®¾è®¡è¯­è¨€</a></li>
<li>çœ‹å®Œä¸çŸ¥é“åšå•¥ï¼Œåˆ·ç‚¹é¢˜å§ï¼Œæ‰¾ä¸€ä½å¤§ä½¬çš„<a href="https://github.com/iosmanthus/leetcode-rust">åˆ·é¢˜ä»“åº“</a>ã€‚</li>
<li>vscodeå®‰è£…æ‹“å±•<a href="https://github.com/mintlify/writer">Mintlify Writer</a>ï¼Œä¸€ä¸ªAIç”Ÿæˆè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£çš„æ’ä»¶ã€‚</li>
<li>çœ‹ä¸æ‡‚å°±é€‰ä¸­å†æŒ‰<code>Ctrl+.</code>ã€‚<s>å“ªé‡Œä¸ä¼šç‚¹å“ªé‡Œï¼</s></li>
</ol>
<h2 id="çœ‹çœ‹æ•ˆæœ">çœ‹çœ‹æ•ˆæœ</h2>
<p>é€‰ä¸­<code>ListNode</code>ã€<code>derive</code>ã€<code>inline</code>ã€<code>Box</code>ã€<code>unwrap_or</code>éƒ½å¯ä»¥ç”Ÿæˆå¯¹åº”çš„è¯´æ˜ã€‚æ”¾åˆ°ä¸€èµ·æ˜¯æœ‰ç‚¹æ··ä¹±ï¼ŒRustçš„docstringæ˜¯markdownæ ¼å¼çš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿æ‘˜æŠ„å‡ºæ¥ã€‚<br>
<code>common/src/lib.rs</code></p>
<pre><code class="language-rust">// Definition for singly-linked list.
pub mod structs {
    /**
    Defines a struct named ListNode with two fields, val of type i32 and next of type
    Option&lt;Box&lt;ListNode&gt;&gt;.

    Properties:

    * `val`: The `val` property of the `ListNode` struct represents the value stored in the node. In
    this case, it is an integer value of type `i32`.
    * `next`: `next` is a property of the `ListNode` struct that represents a pointer to the next node
    in a linked list. It is an `Option` type that can either be `None` if there is no next node, or
    `Some` containing a `Box` that points to the next
    
    `#[derive(PartialEq,Eq,Debug)]` is a Rust attribute that automatically generates implementations
    of the `PartialEq`, `Eq`, and `Debug` traits for the `ListNode` struct. This allows instances of
    the `ListNode` struct to be compared for equality using the `==` operator, and printed using the
    `println!` macro with the `{:?}` format specifier.
    */
    #[derive(PartialEq,Eq,Debug)]
    pub struct ListNode{
        pub val: i32,
        pub next: Option&lt;Box&lt;ListNode&gt;&gt;,
    }
    impl ListNode{
        /**
        `#[inline]` is a Rust attribute that suggests the compiler to inline the function at the
        call site. This means that instead of calling the function, the code of the function is
        inserted directly into the calling code. This can improve performance by reducing the
        overhead of function calls. 
        */
        #[inline]
        pub fn new(val: i32) -&gt; Self {
            ListNode { next: None, val}
        }
    }
}


#[cfg(test)]
mod tests {
    use super::structs::*;
    #[test]
    /**
    `Box` is a smart pointer in Rust that provides **heap** allocation of
    values. In this code, `Box` is used to create a new instance of
    `ListNode` on the heap and store a pointer to it in the `next` field
    of another `ListNode`. This allows for the creation of a linked list
    data structure where each node is allocated on the heap and connected
    to the next node through a pointer.
    */
    /**
    `unwrap_or` is a method provided by the `Option` type in Rust. It
    takes a default value as an argument and returns either the value
    contained in the `Option` if it is `Some`, or the default value if
    the `Option` is `None`. In the given code,
    `result.take().unwrap_or(Box::new(ListNode::new(0))).val` is used
    to get the value of the `ListNode` contained in `result`, or a new
    `ListNode` with a value of 0 if `result` is `None`. The `val`
    property of the resulting `ListNode` is then returned.
    */
    fn it_works() {
        let mut result = Some(
        Box::new(ListNode {
            val: 9,
            next: Some(Box::new(ListNode {
                val: 8,
                next: Some(Box::new(ListNode {
                    val: 3,
                    next: Some(Box::new(ListNode::new(3))),
                })),
            })),
        }));

        assert_eq!(result.take().unwrap_or(Box::new(ListNode::new(0))).val, 9);
    }
}
</code></pre>
<p>æ’ä»¶æœ‰ä¸ªé—®é¢˜æ˜¯é€‰ä¸­çš„å†…å®¹æ˜¯è¡Œå†…çš„è¯ï¼Œç”Ÿæˆæ³¨é‡Šä¼šç ´ååŸæ¥çš„æ ¼å¼ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´ä¸‹ã€‚<br>
å½“ç„¶è‡ªåŠ¨ç”Ÿæˆçš„å†…å®¹åŸºæœ¬åªæ˜¯è§£é‡Šç°æœ‰ä»£ç ï¼Œ ä¸æ¶‰åŠæ›´æ·±å±‚æ¬¡çš„å†…å®¹ï¼Œè¿˜éœ€è¦ç»“åˆå…¶ä»–æ–¹å¼å­¦ä¹ ã€‚<br>
å°±è¿™æ ·~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ 2022ä¹¦å•]]></title>
        <id>https://txSangyj.github.io/post/2022-shu-dan/</id>
        <link href="https://txSangyj.github.io/post/2022-shu-dan/">
        </link>
        <updated>2023-01-03T11:16:01.000Z</updated>
        <summary type="html"><![CDATA[<p>ä»Šå¹´çš„æ€»ç»“æ—©å¤šäº†ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä»Šå¹´çš„æ€»ç»“æ—©å¤šäº†ã€‚</p>
<!-- more -->
<h1 id="å·²">å·²</h1>
<h2 id="è·¯è¾¹é‡é¤">ã€Šè·¯è¾¹é‡é¤ã€‹</h2>
<pre><code>å½“æ—¶é‡é¤éœ²è¥æŒºç«ã€‚
</code></pre>
<p>è‹è”æ—¶ä»£çš„ç§‘å¹»å°è¯´ï¼Œäººåè¿‡äºæ‹—å£äº†ã€‚ç¡®å®å‡ ä¸ªäººåƒå·¥èšä¸€æ ·ã€‚é™„å½•è¿˜æœ‰ä½œè€…å¯¹ä¸»ç¼–ä¿®æ”¹æ„è§çš„åæ§½ï¼Œç¬‘æ­»ã€‚</p>
<h2 id="ç¥ä»¬è‡ªå·±">ã€Šç¥ä»¬è‡ªå·±ã€‹</h2>
<p>èµ¶ä¸Šäº†éš”ç¦»çš„å°¾å·´ï¼Œåœ¨é…’åº—éš”ç¦»æ—¶å€™è¯»çš„ã€‚</p>
<pre><code>æ‹‰è’™ç‰¹å‘ç°äº†ç”µå­é€šé“å­˜åœ¨çš„é—®é¢˜ï¼Œæƒ³å…³é—­ç”µå­é€šé“ï¼Œä½†å…³é—­æ„å‘³å€’é€€ã€‚
æœé˜¿æ–‡æ˜å…³ç³»æ–‡æ˜å­˜äº¡ï¼Œæ›´ä¸å¯èƒ½å…³é—­ã€‚
ç‹„å°¼ç‰¹ä¸å…‰æŒ‡å‡ºäº†é—®é¢˜ï¼Œä¹Ÿæå‡ºäº†è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚
</code></pre>
<p>æ‹‰è’™ç‰¹å’Œæ”¿æ²»å®¶çš„å¯¹è¯ã€‚</p>
<blockquote>
<p>â€œå¹´è½»äººï¼Œæˆ‘çš„æƒåŠ›ä»åä¹‰ä¸Šæ¥è¯´å¾ˆå¤§ï¼Œä½†æ˜¯æˆ‘åªèƒ½åœ¨ç¬¦åˆå…¬ä¼—æ„¿æœ›çš„æƒ…å†µä¸‹æ‰æ‹¥æœ‰è¿™ä¹ˆå¤§çš„æƒåŠ›ã€‚â€</p>
</blockquote>
<h2 id="æ•™çˆ¶-parti">ã€Šæ•™çˆ¶ PART:â… ã€‹</h2>
<p>æ–‡å­—ç»†èŠ‚å¤šäº†ç‚¹ï¼Œä½†ç”µå½±ç¡®å®å¤ªè¿˜åŸäº†ã€‚<br>
å›¾ä¹¦é¦†åªæœ‰â… å’Œâ…¢ï¼Œè¯»å®Œâ… å°±æ²¡æœ‰ç„¶åäº†ã€‚</p>
<h2 id="å…„å¼Ÿ">ã€Šå…„å¼Ÿã€‹</h2>
<p>çœ‹äº†ä½™åå’Œç½—ç¿”çš„å¯¹è°ˆå»çœ‹çš„ã€‚<br>
ä¸ŠåŠéƒ¨ä¸ºå®‹å‡¡å¹³éš¾å—æµäº†ä¸çŸ¥é“å¤šå°‘æ³ªï¼Œä¸‹åŠéƒ¨çœ‹åˆ˜é•‡ä¼—äººå˜åŒ–ï¼Œæ°”æ„¤äºå®‹é’¢çš„éšæ³¢é€æµã€‚<br>
å·åˆ«äººçš„ä¹¦è¯„ï¼š</p>
<blockquote>
<p>ä¸ŠåŠéƒ¨çœŸå®çš„è’è¯<br>
ä¸‹åŠéƒ¨è’è¯çš„çœŸå®</p>
</blockquote>
<h2 id="çš®å›Š">ã€Šçš®å›Šã€‹</h2>
<p>å†™ä½œè€…èº«è¾¹çš„äººï¼Œæ•£æ–‡å°è±¡ä¸æ·±ã€‚<br>
çˆ¶äº²çš„ç˜«ç—ª å€”å¼º åæ‰§ ç²¾ç¥å’Œè‚‰ä½“çš„é”™ä½<br>
æ¯äº²çš„åšæ¯… æ‰§å¿µ èµ°åçš„æ€å¿µ<br>
ç¥å©† å°å°</p>
<h2 id="ä¸¤ç¯‡ç½‘æ–‡">ä¸¤ç¯‡ç½‘æ–‡</h2>
<h3 id="æ·±ç©ºä¹‹æµæµªèˆ°é˜Ÿ">ã€Šæ·±ç©ºä¹‹æµæµªèˆ°é˜Ÿã€‹</h3>
<p>å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œè·³è¿‡ä¸å°‘æ®µè½ï¼Œåªæœ‰ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>æ„¿ä¸æ–­è¿›æ­¥ã€‚</p>
</blockquote>
<h3 id="æˆ‘ä»¬ç”Ÿæ´»åœ¨å—äº¬">ã€Šæˆ‘ä»¬ç”Ÿæ´»åœ¨å—äº¬ã€‹</h3>
<p>é“ºå«è½¬æŠ˜ä¸æ–­ï¼Œç¯‡å¹…ä¸é•¿å¥½è¯„ã€‚æ¢—å¤ªå¤šå¶å°”å‡ºæˆä½†è¯»èµ·æ¥ç›¸å¯¹è½»æ¾ï¼Œ<s>é€šä¿¡è¯¾å¤–è¯»ç‰©</s>ã€‚</p>
<h1 id="æ­£">æ­£</h1>
<h2 id="æ ‘çŠ¹å¦‚æ­¤">ã€Šæ ‘çŠ¹å¦‚æ­¤ã€‹</h2>
<h2 id="å°‘å¹´piçš„å¥‡å¹»æ¼‚æµ">ã€Šå°‘å¹´Piçš„å¥‡å¹»æ¼‚æµã€‹</h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸€ä¸ªç®€å•çš„è„šæœ¬]]></title>
        <id>https://txSangyj.github.io/post/a/</id>
        <link href="https://txSangyj.github.io/post/a/">
        </link>
        <updated>2021-04-16T07:37:15.000Z</updated>
        <summary type="html"><![CDATA[<p>è¿«äºè¢«è¿œç¨‹æ¡Œé¢è¾“å‘½ä»¤ç–¯ç‹‚é‡å¤æŒ‰é”®æŠ˜ç£¨åäº†å†™çš„ï¼Œä¸è¿‡è¿™æ ·è‡ªåŠ¨è¡¥å…¨æ²¡äº†ã€‚<s>å¥½åœ¨ä¸éœ€è¦å†ç”¨äº†</s></p>
]]></summary>
        <content type="html"><![CDATA[<p>è¿«äºè¢«è¿œç¨‹æ¡Œé¢è¾“å‘½ä»¤ç–¯ç‹‚é‡å¤æŒ‰é”®æŠ˜ç£¨åäº†å†™çš„ï¼Œä¸è¿‡è¿™æ ·è‡ªåŠ¨è¡¥å…¨æ²¡äº†ã€‚<s>å¥½åœ¨ä¸éœ€è¦å†ç”¨äº†</s></p>
<!-- more -->
<pre><code class="language-python"># test.py
import win32gui,win32api,win32con
import time

def send_to_cmd():
    wndtitle = u&quot;&quot; # çª—å£åç§°ï¼Œå¯ä»¥spy++è·å–
    wndclass = None 
    wnd = win32gui.FindWindow(wndclass, wndtitle)
    win32api.keybd_event(13, 0, 0, 0)
    win32gui.SetForegroundWindow(wnd)
    win32api.SetCursorPos((1000, 200)) # é¼ æ ‡ä½ç½®1
    win32api.mouse_event(win32con.MOUSEEVENTF_RIGHTDOWN, 100, 100, 0, 0)
    time.sleep(0.2)
    win32api.mouse_event(win32con.MOUSEEVENTF_RIGHTUP, 100, 100, 0, 0)
    
    wndtitle = u&quot;C:\WINDOWS\system32\cmd.exe - python  test.py&quot;
    wndclass = None 
    wnd = win32gui.FindWindow(wndclass, wndtitle)
    win32api.keybd_event(13, 0, 0, 0) #
    win32gui.SetForegroundWindow(wnd)
    win32api.SetCursorPos((100, 100)) # é¼ æ ‡ä½ç½®2
    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN, 100, 100, 0, 0)
    time.sleep(0.2)
    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP, 100, 100, 0, 0)
    
    
def inputtxt(string):
    import win32clipboard as w
    w.OpenClipboard()
    w.SetClipboardData(win32con.CF_UNICODETEXT,string)
    w.CloseClipboard()

if __name__=='__main__':
    while True:
        s = input()
        if s!='quitcmd':
            inputtxt(s+'\n')
            send_to_cmd()
        else:
            break
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¯¹è¯åˆ†ç±»ç«èµ›æ€»ç»“]]></title>
        <id>https://txSangyj.github.io/post/dui-hua-fen-lei-jing-sai-zong-jie/</id>
        <link href="https://txSangyj.github.io/post/dui-hua-fen-lei-jing-sai-zong-jie/">
        </link>
        <updated>2021-03-05T01:33:52.000Z</updated>
        <summary type="html"><![CDATA[<p>ä¸€ç¯‡æ—§æ–‡ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä¸€ç¯‡æ—§æ–‡ã€‚</p>
<!-- more -->
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<h2 id="åˆèµ›">åˆèµ›</h2>
<p>ç¬¬ä¸€æ¬¡æ¥è§¦NLPé—®é¢˜ï¼Œåˆèµ›æ—¶é—´è¾ƒä¸ºå……è£•ï¼Œè€ŒBertå¤„ç†çŸ­æ–‡æœ¬æ€§èƒ½è¶³å¤Ÿã€‚åº”å°½é‡å°è¯•å¤šç§å¯è¡Œæ–¹å¼è§£å†³é—®é¢˜ï¼Œè€Œä¸æ˜¯åªæ‹¿ç€Bertè·‘æ— æ„ä¹‰çš„ç»“æœã€‚</p>
<h2 id="å¤èµ›å†³èµ›">å¤èµ›&amp;å†³èµ›</h2>
<ul>
<li>å¤èµ›é˜¶æ®µæ•°æ®é‡å¤§ï¼Œè¯•é”™æˆæœ¬æ›´é«˜ï¼Œå®Œå…¨åº”è¯¥è¿›è¡Œå¤§çš„æ”¹åŠ¨å†é‡æ–°è¿­ä»£ã€‚</li>
<li>æ•°æ®å¤„ç†å’ŒåŸºç¡€æ¨¡å‹æ²¡æœ‰å¤§é—®é¢˜ï¼Œä½†æ˜¯å®Œå…¨å¿˜è®°äº†åœ¨æäº¤ç»“æœé˜¶æ®µä½¿ç”¨<strong>é›†æˆå­¦ä¹ </strong>æ–¹æ³•ã€‚</li>
<li>æ²¡æœ‰å¯¹é•¿æ–‡æœ¬è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ï¼Œå–é¦–å°¾æˆªæ–­ä¸å¦‚è®­ç»ƒä¸¤ä¸ªæ¨¡å‹<strong>åˆ†åˆ«å¤„ç†é¦–å°¾</strong>ä¹‹åå†è¿›è¡ŒæŠ•ç¥¨ã€‚</li>
<li>ç¨‹åºæ€»æ˜¯æœ‰Bugï¼Œä¸€ä¸ªon_epoch_endçš„é—®é¢˜å°±æ˜¯ä¹ä¸ªå°æ—¶å·¦å³æ—¶é—´çš„æµªè´¹ã€‚</li>
<li>batch_size/model è¿‡å¤§ï¼Œè®­ç»ƒæ—¶æ— æ³•æµ‹è¯•</li>
<li>è™½ç„¶åšäº†å®¢æœæ ‡è®°çš„ç»Ÿä¸€åŒ–ï¼Œä½†æ˜¯æ ‡è®°æœ¬èº«æ˜¯å¦æ­£ç¡®æœªå¯çŸ¥ã€‚</li>
<li>å¤èµ›é˜¶æ®µå·¥ä½œé‡é¢„ä¼°ä¸è¶³ã€‚</li>
</ul>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<ul>
<li>æ–‡æœ¬æ˜¯æœºå™¨ç¿»è¯‘å¾—æ¥çš„ï¼Œ å¯ä»¥è¿›ä¸€æ­¥å¤„ç†ã€‚ï¼ˆå°†æ–¹è¨€è½¬åŒ–å¾—åˆ°çš„æ— æ„ä¹‰çš„åŒéŸ³è¯æ›¿æ¢ä¸ºè¡Œä¸šé«˜é¢‘ç”¨è¯æ˜¯ä¸€ä¸ªå¥½æ–¹å‘ï¼‰</li>
<li>æˆ–è€…å°†å¯¹è¯åŒæ–¹æ–‡æœ¬åˆ†åˆ«è®­ç»ƒä¹Ÿæ˜¯ä¸€ä¸ªæ–¹å‘ã€‚</li>
<li>é•¿æ–‡æœ¬ç”šè‡³å¯ä»¥åšä¸€ä¸ªæ‘˜è¦ç”Ÿæˆçš„æ¨¡å‹æ¥å¤„ç†æˆçŸ­æ–‡æœ¬ã€‚</li>
<li>BiLSTM+Attentionæœºåˆ¶æ²¡æœ‰åšå®Œï¼Œæˆ–è€…åœ¨BiLSTMå„æ—¶é—´æ­¥ä¸Šéšå±‚ä¸Šå–Maxåšè¾“å‡ºï¼Œåœ¨å…¶ä»–æ•°æ®é›†ä¸Šæ•ˆæœå‡ä¼˜äºç›´æ¥ä½¿ç”¨BiLSTMã€‚</li>
<li>æ¢¯åº¦ç´¯åŠ å˜ç›¸å¢å¤§Batch_sizeçš„å®éªŒæ²¡æœ‰åšå®Œï¼Œæ–°å»ºModuleç±»å¯ä»¥è§£å†³losså’ŒåŸè®¡ç®—å›¾æ— æ³•å…³è”çš„é—®é¢˜ã€‚ï¼ˆè¾ƒå°çš„æ¨¡å‹æ¯”å¦‚å…±äº«å‚æ•°çš„TextCNNå¯ä»¥åšåˆ°256çš„batch_sizeï¼Œ16å€äºbertæ–¹æ³•ï¼‰</li>
<li>Bertæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è®­ç»ƒç”¨çš„è¯­æ–™ä¸åŒæ•ˆæœä¸åŒï¼Œä¹Ÿå¯èƒ½å½±å“æœ€åæ•ˆæœã€‚</li>
</ul>
<h2 id="åç»­åº”ç”¨">åç»­åº”ç”¨</h2>
<ul>
<li>
<p>è½åœ°æ–¹é¢æ€è€ƒä¸è¶³ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†å·¥ä½œåœ¨å®¢æœå¯¹è¯ä¸Šå¯ç”¨çš„æœ‰ï¼š</p>
<ol>
<li>æŠ•è¯‰åˆ†ç±»ï¼ˆå°†å’Œæ•…éšœé«˜åº¦ç›¸å…³çš„æŠ•è¯‰åˆ†ç±»æŠ½å–ï¼Œè®¾ç½®å‘Šè­¦ï¼ˆä¸€ä¸ªé—®é¢˜æ˜¯è¯¯å‘Šè­¦æ€ä¹ˆé—­ç¯å¤„ç†ï¼Œæ²¡æœ‰è¿›è¡Œä¸€ä¸ªè¾ƒå¥½çš„å›ç­”ï¼‰</li>
<li>å¤šåˆ†ç±»ï¼Œå®¢æˆ·å¯èƒ½å­˜åœ¨å¤šç§éœ€æ±‚ï¼Œå•ä¸ªæ ‡ç­¾æè¿°ä¸ä¾¿ï¼ˆç¨‹åºä¸Šæ”¹ä¸ºè¾“å‡ºå±‚sigmoidæ¿€æ´»ï¼Œä½¿ç”¨äºŒå…ƒåˆ†ç±»æŸå¤±ï¼ŒæŒ‰æ¯ç±»æ¦‚ç‡&gt;0.5å–å¯¹åº”æ ‡ç­¾ã€‚</li>
<li>ä¸å±€é™äºåˆ†ç±»ï¼Œè¯­ä¹‰ç†è§£èšç±»å®¢æˆ·è¯‰æ±‚ã€æ ¹æ®å¯¹è¯æ–¹å¼è¿›è¡Œç”¨æˆ·åˆ†ç±»åŒ¹é…å®¢æœã€ä¸ºä»€ä¹ˆä¼šå‡ºç°é•¿å¯¹è¯ï¼ˆè¯æœ¯æç‚¼ã€ä¼˜åŒ–æ•ˆç‡ï¼‰ã€‚</li>
</ol>
</li>
<li>
<p>TensorRTæ¨ç†é€Ÿåº¦æœ‰æå¤§æé«˜ï¼ˆæˆç™¾å€500ms-&gt;2msï¼‰ï¼Œå¯ä»¥å°è¯•ã€‚</p>
</li>
</ul>
<hr>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2021ä¹¦å•]]></title>
        <id>https://txSangyj.github.io/post/2021-shu-dan/</id>
        <link href="https://txSangyj.github.io/post/2021-shu-dan/">
        </link>
        <updated>2021-03-03T14:53:31.000Z</updated>
        <summary type="html"><![CDATA[<p>éƒ½ä¸‰æœˆäº†ï¼Œä¹¦çœ‹äº†å‡ æœ¬ï¼Ÿ<br>
2022.3.7 Update å›é¡¾ä¸€ä¸‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>éƒ½ä¸‰æœˆäº†ï¼Œä¹¦çœ‹äº†å‡ æœ¬ï¼Ÿ<br>
2022.3.7 Update å›é¡¾ä¸€ä¸‹ã€‚</p>
<!-- more -->
<h2 id="å·²">å·²ï¼š</h2>
<h3 id="å¨±ä¹è‡³æ­»">ã€Šå¨±ä¹è‡³æ­»ã€‹</h3>
<p>åƒçœ‹ä¸€ç¯‡è®ºæ–‡ã€‚ä¸çœ‹æŠ–éŸ³ï¼Œçœ‹å®Œå¾®åšéƒ½æƒ³å¸äº†ã€‚åº”è¯¥æ§åˆ¶ä¸€ä¸‹è·å–æ— ç”¨ä¿¡æ¯çš„é¢‘ç‡äº†ã€‚<br>
å›æƒ³èµ·æ¥ç§è´§å¾ˆå¤šã€‚</p>
<h3 id="å°ç‹—é’±é’±12">ã€Šå°ç‹—é’±é’±ã€‹1&amp;2</h3>
<pre><code>    1. å°ç›®æ ‡ï¼Œå¼€å®¶å°ä¹¦åº—è¦å¤šå°‘é’±ï¼Ÿ
    2. å…»é¹…ğŸ§
    3. â€œè¿™çœŸçš„æœ‰å¿…è¦å—â€
    4. å‘¨å››è®°è´¦
    5. ç¬¬äºŒå†Œæ›´åƒâ€œå„¿ç«¥è¯»ç‰©â€
</code></pre>
<h2 id="åœ¨">åœ¨ï¼š</h2>
<h3 id="ä¼Ÿå¤§ä½œå“çš„éšç§˜ç»“æ„">ã€Šä¼Ÿå¤§ä½œå“çš„éšç§˜ç»“æ„ã€‹</h3>
<p>æ— ç»“è®ºçš„ä¸¤éš¾ç»“æ„ï¼šä¸¾ä¾‹æœ‰ã€Šä¼½åˆ©ç•¥ä¼ ã€‹ã€ã€Šè€äººä¸æµ·ã€‹ç­‰ç­‰ã€‚<s>ã€Šæˆ‘ä»¬ä¸æ¶çš„è·ç¦»ã€‹ç®—ä¸ç®—...</s><br>
<s>åŠé€æ˜çš„åŒå±‚ç»“æ„ï¼šè¿˜æ²¡çœ‹åˆ°ã€‚ã€‚ã€‚</s></p>
<blockquote>
<p>è‰ºæœ¯åˆ›é€ é ä¸€ç§ç¥å¥‡çš„è™šè®¾è§¦åŠäº†äººä»¬çš„ä¸¤é‡å…±æ€§ï¼šä¸€æ˜¯æ‰€åˆ»ç”»çš„å¯¹è±¡åœ¨äººä»¬ä¸­çš„å…±æ€§ï¼›äºŒæ˜¯æ¬£èµè€…å†…å¿ƒçš„æŸç§å…±æ€§ã€‚</p>
</blockquote>
<pre><code>è‰ºæœ¯çœ¼å…‰ä¸æ˜¯æ”¿æ²»çœ¼å…‰é‡Œæåˆ°å¥‘è¯ƒå¤«çš„ã€Šä¸‡å¡ã€‹ï¼Œéšæ‰‹ä¸€æœå‘ç°ã€Šå±±æµ·æƒ…ã€‹é‡Œå¿µçš„è¯¾æ–‡å°±æ˜¯è¿™ä¸ªã€‚
</code></pre>
<blockquote>
<p>åé¢å‘ç°æ˜¯æ•™æï¼Œçœ‹äº†ä¸ªåºï¼Ÿ</p>
</blockquote>
<h3 id="æ²™ä¸˜"><s>ã€Šæ²™ä¸˜ã€‹</s></h3>
<h2 id="~~è¯»è¯‘æ–‡çœŸæ˜¯ç—›è‹¦ä¸çŸ¥é“èƒ½ä¸èƒ½åšæŒè¯»å®Œ-~~æœç„¶æ²¡çœ‹å®Œ-202237-update">~~è¯»è¯‘æ–‡çœŸæ˜¯ç—›è‹¦ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½åšæŒè¯»å®Œã€‚~~æœç„¶æ²¡çœ‹å®Œã€‚<br>
2022.3.7 Update</h2>
<h3 id="ä¸§é’Ÿä¸ºè°è€Œé¸£">ã€Šä¸§é’Ÿä¸ºè°è€Œé¸£ã€‹</h3>
<p>2077é‡Œé¢å¸¦å‡ºæ¥çš„ã€‚ä¸è¿‡ä¹Ÿæ²¡è¯»å®Œï¼Œè¿›åº¦50%å§ã€‚</p>
<h3 id="é£å£°">ã€Šé£å£°ã€‹</h3>
<p>å›é¡¾å®Œç”µå½±å»çœ‹ï¼Œå‘ç°å†…å®¹å±…ç„¶å·®åˆ«æœ‰ç‚¹å¤§ã€‚</p>
<h3 id="æ–‡åŒ–è‹¦æ—…">ã€Šæ–‡åŒ–è‹¦æ—…ã€‹</h3>
<p>10+å¹´ååˆçœ‹ç‹é“å£«ã€‚</p>
<h3 id="ç™½é¹¿åŸ">ã€Šç™½é¹¿åŸã€‹</h3>
<p>çœ‹å®Œæ°”çš„åƒä¸ä¸‹é¥­ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[aarch64ä¸‹ç¼–è¯‘libtorch]]></title>
        <id>https://txSangyj.github.io/post/armv8-bian-yi-libtorch/</id>
        <link href="https://txSangyj.github.io/post/armv8-bian-yi-libtorch/">
        </link>
        <updated>2019-08-15T02:32:27.000Z</updated>
        <summary type="html"><![CDATA[<p>æŠŠå†™çš„libtorchè°ƒç”¨æ¨¡å‹çš„ç¨‹åºç§»æ¤åˆ°äº†ä¸‹Ubuntuä¸‹å‘ç°æ²¡æœ‰é—®é¢˜ï¼Œlibtorchæä¾›äº†é¢„ç¼–è¯‘å¥½çš„åº“ã€‚æ”¾åˆ°åŸºäºArmçš„å›½äº§ä¸»æœºä¸Šå°±æç¤ºlibtorch.soä¸æ˜¯åŠ¨æ€åº“æ–‡ä»¶ï¼Œéœ€è¦ä»æºä»£ç ç¼–è¯‘libtorchã€‚ä¸è¿‡æ²¡å•¥éš¾ç‚¹ï¼Œè¸©å‘æ–‡ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æŠŠå†™çš„libtorchè°ƒç”¨æ¨¡å‹çš„ç¨‹åºç§»æ¤åˆ°äº†ä¸‹Ubuntuä¸‹å‘ç°æ²¡æœ‰é—®é¢˜ï¼Œlibtorchæä¾›äº†é¢„ç¼–è¯‘å¥½çš„åº“ã€‚æ”¾åˆ°åŸºäºArmçš„å›½äº§ä¸»æœºä¸Šå°±æç¤ºlibtorch.soä¸æ˜¯åŠ¨æ€åº“æ–‡ä»¶ï¼Œéœ€è¦ä»æºä»£ç ç¼–è¯‘libtorchã€‚ä¸è¿‡æ²¡å•¥éš¾ç‚¹ï¼Œè¸©å‘æ–‡ã€‚</p>
<!-- more -->
<h1 id="è·å–æºç ">è·å–æºç </h1>
<pre><code class="language-bash">
git clone https://github.com/pytorch/pytorch --recursive &amp;&amp; cd pytorch
git checkout v1.2.0 # çœŸçš„å‹‡å£«æ•¢äºåœ¨masteråˆ†æ”¯ä¸‹ç¼–è¯‘
#ä¸‹è½½ç¼–è¯‘éœ€è¦çš„å­æ¨¡å—
git submodule sync
git submodule update --init --recursive
</code></pre>
<h1 id="pythonç¯å¢ƒ">pythonç¯å¢ƒ</h1>
<p>pytorchå®˜æ–¹ç»™å‡ºçš„ç¯å¢ƒæ˜¯ç”¨condaè£…çš„ï¼Œç„¶è€Œæ‚²å‰§çš„æ˜¯å®˜æ–¹å¹¶æ²¡æœ‰ç»™å‡ºaarch64çš„å®‰è£…æ–‡ä»¶ï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨pipæ¥å®‰è£…ã€‚è¿˜æœ‰ä¸ªé—®é¢˜æ˜¯å¾ˆå¤špythonåº“å¹¶æ²¡æœ‰å‘å¸ƒå¯¹åº”æ¶æ„ä¸‹çš„åŒ…ï¼Œå¥½åœ¨ç¼–è¯‘libtorchéœ€è¦çš„pythonç¯å¢ƒè¾ƒä¸ºç®€å•ã€‚ç¼–è¯‘å®Œä¹‹åå¯¼å‡ºpythonç¯å¢ƒå‘ç°ï¼Œç¼–è¯‘libtorchå¿…é¡»çš„åŒ…åº”è¯¥åªæœ‰pyyamlï¼ˆä¸å¤ªç¡®å®šï¼‰ã€‚å½“ç„¶cmakeå’Œgccç­‰å·¥å…·è¿˜æ˜¯å¿…é¡»çš„ã€‚<br>
å®‰è£…pyyamlçš„å‘½ä»¤ï¼š</p>
<pre><code>pip install pyyaml
</code></pre>
<blockquote>
<p>ä¸ä½¿ç”¨toolsä¸‹çš„è„šæœ¬è€Œç›´æ¥ç”¨cmakeæ¥ç¼–è¯‘çš„è¯å¯èƒ½pythonç¯å¢ƒéƒ½ä¸éœ€è¦äº†...</p>
</blockquote>
<h1 id="ç¼–è¯‘libtorch">ç¼–è¯‘libtorch</h1>
<p>åœ¨ç¼–è¯‘ä¹‹å‰å¯ä»¥ä½¿ç”¨exportæˆ–è€…cmake-guiå…³é—­ä¸€äº›ä¸å¿…è¦çš„ç¼–è¯‘é€‰é¡¹æ¥åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼Œç±»ä¼¼ï¼š</p>
<pre><code>export USE_CUDA=False
export BUILD_TEST=False
</code></pre>
<p>å®˜æ–¹æä¾›äº†ä¸€é”®å¼ç¼–è¯‘å·¥å…·ï¼Œåœ¨pytorch/tools/build_libtorch.pyã€‚åªéœ€è¦è¿è¡Œï¼š</p>
<pre><code class="language-bash">
#pytorch$
mkdir build &amp;&amp; cd build
python ../tools/build_libtorch.py
</code></pre>
<p>å°±ä¼šåœ¨buildä¸‹ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦çš„åŠ¨æ€åº“æ–‡ä»¶libtorch.soåœ¨build/lib/ä¸‹ã€‚</p>
<h1 id="æ•´ç†libtorch">æ•´ç†libtorch</h1>
<ol>
<li>å¤åˆ¶pytorchä¸‹torchã€caffe2ã€c10ä»¥åŠaten\sourceä¸‹çš„ATenã€THç­‰æ–‡ä»¶å¤¹åˆ°libtorch/includeä¸‹ï¼Œå¾—åˆ°libtorchçš„C++æ¥å£ã€‚</li>
<li>å¤åˆ¶build/libä¸‹ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶åˆ°libtorch/libä¸‹ã€‚</li>
<li>å¤åˆ¶pytorch/torch/share/cmakeæ–‡ä»¶å¤¹åˆ°libtorch/shareä¸‹ã€‚<br>
å¾—åˆ°çš„libtorchä¸»è¦ç»“æ„ï¼š<br>
libtorch.<br>
â”œâ”€include<br>
â”‚  â”œâ”€ATen<br>
â”‚  â”œâ”€c10<br>
â”‚  â”œâ”€caffe2<br>
â”‚  â”œâ”€TH<br>
â”‚  â”œâ”€THCUNN<br>
â”‚  â”œâ”€THNN<br>
â”‚  â””â”€torch<br>
â”œâ”€lib<br>
â””â”€share<br>
â””â”€cmake<br>
â”œâ”€ATen<br>
â”œâ”€Caffe2<br>
â”œâ”€Gloo<br>
â””â”€Torch</li>
</ol>
<hr>
<p>å¦‚æœä½ éœ€è¦pytorchç¼–è¯‘å¯ä»¥å‚è€ƒä¸€ä¸‹<a href="https://nmilosev.svbtle.com/compling-arm-stuff-without-an-arm-board-build-pytorch-for-the-raspberry-pi">è¿™ç¯‡</a><br>
psï¼šè¿˜æ˜¯å¯¹CMakeListsä¸å¤ªç†Ÿå•Šã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[torch/libtorch å¤šè¾“å…¥]]></title>
        <id>https://txSangyj.github.io/post/torchlibtorch-duo-shu-ru/</id>
        <link href="https://txSangyj.github.io/post/torchlibtorch-duo-shu-ru/">
        </link>
        <updated>2019-08-07T02:40:33.000Z</updated>
        <summary type="html"><![CDATA[<p><br>
ä¸€ä¸ªå°å‘ï¼Œå¤šè¾“å…¥çš„pytorchæ¨¡å‹åœ¨å¯¼å‡ºptæ–‡ä»¶ä¾›libtorchè°ƒç”¨æ—¶å€™ï¼Œpythonä¸‹æ¨¡å‹çš„forwardæ–¹æ³•ä¸èƒ½ä½¿ç”¨tupleçš„å½¢å¼ä¼ å…¥inputsã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC">
<li><a href="#pytorch%E4%B8%8B">pytorchä¸‹</a>
<ul>
<li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5">æ•°æ®è¾“å…¥</a></li>
</ul>
</li>
<li><a href="#libtorch%E4%B8%8B">libtorchä¸‹</a></li>
</ul>
<br>
ä¸€ä¸ªå°å‘ï¼Œå¤šè¾“å…¥çš„pytorchæ¨¡å‹åœ¨å¯¼å‡ºptæ–‡ä»¶ä¾›libtorchè°ƒç”¨æ—¶å€™ï¼Œpythonä¸‹æ¨¡å‹çš„forwardæ–¹æ³•ä¸èƒ½ä½¿ç”¨tupleçš„å½¢å¼ä¼ å…¥inputsã€‚</p>
<!-- more -->
<h1 id="pytorchä¸‹">pytorchä¸‹</h1>
<p>pytorchä¸‹å¤šè¾“å…¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œä¿®æ”¹æ¨¡å‹çš„forwardæ–¹æ³•å°±å¯ä»¥ã€‚</p>
<h2 id="æ•°æ®è¾“å…¥">æ•°æ®è¾“å…¥</h2>
<p>åœ¨å¤„ç†å›¾ç‰‡æ—¶ç»å¸¸éœ€è¦å¤šè¾“å…¥ï¼Œæ¯”å¦‚åˆ†ç±»æ—¶è¾“å…¥é¢å¤–ç‰¹å¾ã€æ£€æµ‹æ—¶è¾“å…¥å®šç•Œæ¡†ï¼Œè€Œpytorchå·²ç»å®ç°äº†åŸºæœ¬çš„Datasetç±»ï¼Œå®ç°å¤šè¾“å…¥ä½¿ç”¨çš„å°±æ˜¯æ´¾ç”Ÿä¸€ä¸ªè‡ªå®šä¹‰çš„Datasetç„¶åå®ç°æ•°æ®è¯»å–ä»¥åŠ__getitem__ã€__len__æ–¹æ³•ä¾›Dataloaderè°ƒç”¨ã€‚</p>
<p>ä¸‹é¢æ˜¯è‡ªå·±ç”¨åˆ°çš„ä»£ç ï¼Œè‡ªå®šä¹‰è¿˜æ˜¯æ¯”è¾ƒç®€å•ã€‚</p>
<pre><code class="language-python">
import os
import numpy as np
from torch.utils.data import DataLoader,Dataset
from torchvision.datasets.folder import default_loader


class CustomDataset(Dataset):
    def __init__(self,
                 img_path,
                 txt_path,
                 loader = default_loader,
                 img_transform=None,
                 ):
        with open(txt_path, 'r') as f:
            lines = f.readlines()
            self.imgs = [
                os.path.join(img_path, i.split(',')[0].partition('\\')[2]) for i in lines
            ]
            self.label_list = [i.split('\\')[1] for i in lines]
            self.feature_list = np.array([list(map(float,[i.split(',')[1],i.split(',')[2],
                                            i.split(',')[3],i.split(',')[4],
                                            i.split(',')[5],i.split(',')[6]]))
                                 for i in lines])
        self.feature_list[:,2:] = self.feature_list[:,2:] / 28
        self.img_transform = img_transform
        self.loader = loader
        self.labels = list(set(self.label_list))
        self.labels.sort()
        self.class_to_idx = dict(zip(self.labels ,range(len(self.labels))))
        self.label_list = [self.class_to_idx[c] for c in self.label_list]

    def __getitem__(self, index):
        img_path = self.imgs[index]
        extra_feature = self.feature_list[index]
        label = self.label_list[index]
        img = self.loader(img_path)
        if self.img_transform is not None:
            img = self.img_transform(img)
        return img, extra_feature, label

    def __len__(self):
        return len(self.label_list)

</code></pre>
<h1 id="libtorchä¸‹">libtorchä¸‹</h1>
<p>libtorchä¸‹æ¨¡å‹çš„forwardæ–¹æ³•çš„è¾“å…¥æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¦‚æœæ¨¡å‹çš„forwardæ–¹æ³•æ¯ä¸ªå‚æ•°å¯¹åº”ä¸€ä¸ªè¾“å…¥çš„è¯ï¼Œåœ¨å¯¹åº”ä½ç½®è¾“å…¥å°±æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœpythonæ¨¡å‹ä½¿ç”¨äº†tupleæ¥ä¼ inputsï¼Œé‚£å¯èƒ½é‡åˆ°ä¸‹é¢å‡ ç§å‚æ•°ä¸åŒ¹é…çš„é”™è¯¯ï¼Œåœ¨libtorchä¸­è°ƒç”¨æ¨¡å‹çš„forwardæ—¶æ— æ³•å°†è¾“å…¥çš„std::vector&lt;torch::IValue&gt;è½¬æ¢ä¸º(Tensor, Tensor)ã€‚</p>
<pre><code>Expected value of type (Tensor, Tensor) for argument 'argument_1' in position 0, but instead got value of type Tensor. Declaration: forward((Tensor, Tensor) argument_1) -&gt; Tensor
</code></pre>
<p>æˆ–è€…</p>
<pre><code>Expected at most 1 argument(s) for operator 'forward', but received 2 argument(s). Declaration: forward((Tensor, Tensor) argument_1) -&gt; Tensor 
</code></pre>
<p>å¦å¤–è¿˜æœ‰åœ¨torch.jit.traceé˜¶æ®µå¯èƒ½ç¢°åˆ°çš„é”™è¯¯ï¼Œå¯ä»¥å¤šåŒ…è£¹ä¸€å±‚tupleè§£å†³ï¼Œä¾‹å¦‚((sample_input_1, sample_input_2),)ã€‚</p>
<pre><code>TypeError: forward() takes 2 positional arguments but 3 were given</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Universal Pooling]]></title>
        <id>https://txSangyj.github.io/post/universal-pooling/</id>
        <link href="https://txSangyj.github.io/post/universal-pooling/">
        </link>
        <updated>2019-07-30T01:57:38.000Z</updated>
        <summary type="html"><![CDATA[<p><br>
é€›Paperweeklyçœ‹åˆ°çš„ä¸€ç¯‡è®ºæ–‡ï¼Œåªç”¨è¿‡æ± åŒ–è¿˜æ²¡çœ‹è¿‡ç›¸å…³è®ºæ–‡ã€‚çœ‹å®Œä¹Ÿæ²¡æœ‰å¤ªæƒŠè‰³çš„æ„Ÿè§‰ï¼Œå¯èƒ½æ± åŒ–æ“ä½œè¿˜æ˜¯ä¸è¢«çœ‹å¥½å§ã€‚InceptionV4ä¸­çš„Reduction Blockä¹Ÿæ˜¯Maxpoolingå’Œå·ç§¯å±‚åŒæ—¶ä½¿ç”¨ï¼ŒGANä¸ºäº†ä¸ä¸¢å¤±ä¿¡æ¯ä¹Ÿæ˜¯å·ç§¯å±‚æ›¿ä»£ï¼Œé™¤äº†Global average pooling (GAP)è¿™ç§æ›¿ä»£å…¨è¿æ¥å±‚çš„æ“ä½œã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC">
<li><a href="#%E6%B1%A0%E5%8C%96">æ± åŒ–</a>
<ul>
<li><a href="#%E5%B8%B8%E7%94%A8%E6%B1%A0%E5%8C%96">å¸¸ç”¨æ± åŒ–</a></li>
<li><a href="#%E6%B1%A0%E5%8C%96%E4%BD%9C%E7%94%A8">æ± åŒ–ä½œç”¨</a></li>
</ul>
</li>
<li><a href="#universal-pooling">Universal Pooling</a></li>
<li><a href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98">å­˜åœ¨çš„é—®é¢˜</a></li>
<li><a href="#%E5%8F%82%E8%80%83">å‚è€ƒ</a></li>
</ul>
<br>
é€›Paperweeklyçœ‹åˆ°çš„ä¸€ç¯‡è®ºæ–‡ï¼Œåªç”¨è¿‡æ± åŒ–è¿˜æ²¡çœ‹è¿‡ç›¸å…³è®ºæ–‡ã€‚çœ‹å®Œä¹Ÿæ²¡æœ‰å¤ªæƒŠè‰³çš„æ„Ÿè§‰ï¼Œå¯èƒ½æ± åŒ–æ“ä½œè¿˜æ˜¯ä¸è¢«çœ‹å¥½å§ã€‚InceptionV4ä¸­çš„Reduction Blockä¹Ÿæ˜¯Maxpoolingå’Œå·ç§¯å±‚åŒæ—¶ä½¿ç”¨ï¼ŒGANä¸ºäº†ä¸ä¸¢å¤±ä¿¡æ¯ä¹Ÿæ˜¯å·ç§¯å±‚æ›¿ä»£ï¼Œé™¤äº†Global average pooling (GAP)è¿™ç§æ›¿ä»£å…¨è¿æ¥å±‚çš„æ“ä½œã€‚</p>
<!-- more -->
<h1 id="æ± åŒ–">æ± åŒ–</h1>
<p>ç®€å•çš„å·ç§¯ç¥ç»ç½‘ç»œä¸€èˆ¬åŒ…æ‹¬å·ç§¯å±‚ã€æ± åŒ–å±‚ä»¥åŠå…¨è¿æ¥å±‚ã€‚æ± åŒ–åœ¨å…¶ä¸­æ˜¯ä¸€ç§é™é‡‡æ ·çš„è¿‡ç¨‹ï¼Œä¸»è¦åˆ†ä¸ºå¹³å‡æ± åŒ–å’Œæœ€å¤§æ± åŒ–ã€‚</p>
<h2 id="å¸¸ç”¨æ± åŒ–">å¸¸ç”¨æ± åŒ–</h2>
<p>å¸¸è§çš„å°±æ˜¯Maxpoolingå’ŒMeanpoolingï¼Œå®¹æ˜“ç†è§£ï¼Œç›´æ¥ä¸Šå›¾ã€‚<br>
Maxpooling:<br>
<img src="https://i.loli.net/2019/07/31/5d40f8c5cf32a37790.png" alt="Maxpooling" loading="lazy"><br>
Meanpooling/Averagepooling:<br>
<img src="https://i.loli.net/2019/07/31/5d40f91906e0b64625.png" alt="Meanpooling" loading="lazy"></p>
<h2 id="æ± åŒ–ä½œç”¨">æ± åŒ–ä½œç”¨</h2>
<ul>
<li>é™é‡‡æ ·ï¼Œé™ä½å‚æ•°é‡å’Œè®¡ç®—é‡ã€‚</li>
<li>å¢å¤§åç»­å±‚å•å…ƒçš„æ„Ÿå—é‡ã€‚</li>
<li>é™ä½å¾®å¼±å™ªå£°å’Œç•¸å˜çš„å½±å“</li>
</ul>
<h1 id="universal-pooling">Universal Pooling</h1>
<p>æå‡ºçš„é€šç”¨æ± åŒ–å±‚å¯ä»¥ç”Ÿæˆä»»æ„ç±»å‹çš„æ± åŒ–ï¼Œæ ¸å¿ƒç±»ä¼¼æ³¨æ„åŠ›æœºåˆ¶ã€‚<br>
<strong>æ ¸å¿ƒ</strong>ï¼šUniversal pooling can be considered as a channel-wise local spatial attention module.</p>
<blockquote>
<p>The basic idea of universal pooling is to interpret pooling as attention and extend it to the general channelwise local spatial attention. That is, the  universal pooling selects pooling weights for each channel and they are <strong>trained</strong> together with other feature extraction parts.</p>
</blockquote>
<p>å®šä¹‰çš„æ± åŒ–æ“ä½œçš„é™åˆ¶ï¼š</p>
<ol>
<li>channel-wise:æ¯ä¸ªchannelåˆ†å¼€æ¥è®­ç»ƒæƒé‡å‚æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï€</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span></span></span></span>ã€‚</li>
<li>ä»…æ± åŒ–ç»™å®šå—</li>
<li>æ± åŒ–ä¸èƒ½æ”¹å˜ç‰¹å¾çš„å°ºåº¦ï¼ˆå—å†…æƒé‡ä¹‹å’Œä¸º1ï¼‰<br>
<img src="https://i.loli.net/2019/07/30/5d3fda16bc1f829435.jpg" alt="ç»“æ„" loading="lazy"><br>
ç»“æ„ä¸ŠBlock1.1æ˜¯ä¸€ä¸ªå†…éƒ¨ç¥ç»ç½‘ç»œï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨å·ç§¯å±‚ã€å…¨è¿æ¥å±‚ã€æ‰¹å½’ä¸€åŒ–å±‚ç­‰è¿›è¡Œæ„å»ºï¼Œç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯å•ä¸ªç‰¹å¾å›¾ï¼Œè¾“å‡ºä¸ºä¸´æ—¶ç‰¹å¾å›¾ï¼Œå°ºå¯¸å’Œè¾“å…¥ç›¸åŒï¼Œç»è¿‡block1.2è¿›è¡Œå—å†…ï¼ˆå½¢çŠ¶ç”±æ­¥é•¿å†³å®šï¼‰çš„softmaxè½¬åŒ–ä¸ºå„åˆ†å—çš„å†…éƒ¨æƒé‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï€</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span></span></span></span>ï¼Œç„¶åPooling mapå’ŒFeature mapä½œç‚¹ç§¯ã€å—å†…æ±‚å’Œç­‰æ“ä½œå¾—åˆ°æ± åŒ–åçš„è¾“å‡ºã€‚</li>
</ol>
<h1 id="å­˜åœ¨çš„é—®é¢˜">å­˜åœ¨çš„é—®é¢˜</h1>
<ol>
<li>æ± åŒ–æ“ä½œä½¿ç”¨è¾ƒå°‘ï¼Œç‰¹å¾å›¾çš„å°ºåº¦å˜æ¢åŸºæœ¬ä¸Šç”±å·ç§¯å±‚çš„strideå’Œpaddingæ§åˆ¶ã€‚</li>
<li>å¢åŠ äº†å‚æ•°é‡å’Œè®¡ç®—é‡ï¼Œé™„åŠ äº†ä¸€ä¸ªå†…éƒ¨çš„ç¥ç»ç½‘ç»œï¼Œå¸¦æ¥äº†é¢å¤–çš„ç»“æ„è®¾è®¡é—®é¢˜ã€‚</li>
<li>å­¦ä¹ MaxPoolingè¿™ç§é«˜åº¦éçº¿æ€§åŒ–çš„å‡½æ•°å¯èƒ½å­˜åœ¨å›°éš¾ã€‚</li>
</ol>
<hr>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p><a href="https://arxiv.org/abs/1907.11440">è®ºæ–‡åœ°å€</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[C++ lambda]]></title>
        <id>https://txSangyj.github.io/post/c-lambda/</id>
        <link href="https://txSangyj.github.io/post/c-lambda/">
        </link>
        <updated>2019-07-18T06:49:17.000Z</updated>
        <summary type="html"><![CDATA[<p><br>
C++ä¸­lambdaçš„ä»‹ç»å’Œç®€å•ä½¿ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC">
<li><a href="#%E6%9E%84%E6%88%90">æ„æˆ</a>
<ul>
<li><a href="#captures">captures</a></li>
<li><a href="#params">params</a></li>
<li><a href="#ret">ret</a></li>
<li><a href="#body">body</a></li>
</ul>
</li>
<li><a href="#%E4%BE%8B%E5%AD%90">ä¾‹å­</a></li>
<li><a href="#%E5%8F%82%E8%80%83">å‚è€ƒ</a></li>
</ul>
<br>
C++ä¸­lambdaçš„ä»‹ç»å’Œç®€å•ä½¿ç”¨ã€‚</p>
<!-- more -->
<h1 id="æ„æˆ">æ„æˆ</h1>
<p>C++11ä¸‹lambdaè¡¨è¾¾å¼å®Œå…¨ä½“çš„æ„æˆï¼š<br>
[ captures ]  ( params ) specifiers exception attr -&gt; ret { body }</p>
<p>å…¶ä¸­paramså’Œretå¯ä»¥çœç•¥ï¼Œçœç•¥è¿”å›å€¼ç±»å‹ç›¸å½“äºè¿”å›autoç±»å‹ï¼Œçœç•¥ï¼ˆparamsï¼‰ç›¸å½“äºlambdaå‡½æ•°ä¸æ¥å—å‚æ•°è¾“å…¥ï¼Œå¯¹åº”ä»¥ä¸‹å‡ ç§å˜ä½“ï¼š</p>
<ul>
<li>[ captures ] ( params ) -&gt; ret { body }</li>
<li>[ captures ] ( params ) { body }</li>
<li>[ captures ] { body }</li>
</ul>
<h2 id="captures">captures</h2>
<p>æ”¯æŒå€¼æ•è·ã€å¼•ç”¨æ•è·å’Œéšå¼æ•è·ã€‚<br>
<strong>å€¼æ•è·å’Œå¼•ç”¨æ•è·</strong><br>
åœ¨å˜é‡å‰ä½¿ç”¨å‰ç¼€=æ¥è¡¨ç¤ºå€¼æ•è·ï¼Œ&amp;è¡¨ç¤ºå¼•ç”¨æ•è·ã€‚å˜é‡åœ¨capturesåˆ—è¡¨åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå½“å˜é‡è¢«ä¸€ç§æ–¹å¼éšå¼æ•è·æ—¶ï¼Œæ˜¾ç¤ºæ•è·åªèƒ½å°†å…¶å£°æ˜ä¸ºå¦ä¸€ç§æ•è·æ–¹å¼ã€‚<br>
ã€1ã€‘ä¸­çš„ä¾‹å­ï¼š</p>
<pre><code class="language-c++">// é»˜è®¤å¼•ç”¨æ•è·
struct S2 { void f(int i); };
void S2::f(int i)
{
    [&amp;]{};          // OK: by-reference capture default
    [&amp;, i]{};       // OK: by-reference capture, except i is captured by copy
    [&amp;, &amp;i] {};     // Error: by-reference capture when by-reference is the default
    [&amp;, this] {};   // OK, equivalent to [&amp;]
    [&amp;, this, i]{}; // OK, equivalent to [&amp;, i]
}
</code></pre>
<pre><code class="language-c++">// é»˜è®¤å€¼æ•è·
struct S2 { void f(int i); };
void S2::f(int i)
{
    [=]{};          // OK: by-copy capture default
    [=, &amp;i]{};      // OK: by-copy capture, except i is captured by reference
    [=, *this]{};   // until C++17: Error: invalid syntax
                    // since c++17: OK: captures the enclosing S2 by copy
    [=, this] {};   // until C++20: Error: this when = is the default
                    // since C++20: OK, same as [=]
}
</code></pre>
<p><strong>éšå¼æ•è·</strong><br>
ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“æ•è·åˆ—è¡¨çš„é¦–é¡¹ä¸º=åŠ&amp;æ—¶ä¼šæŒ‰ç›¸åº”çš„æ•è·æ–¹å¼æ•è·æ‰€ç”¨çš„å˜é‡å’Œthisä¸‹çš„æˆå‘˜å˜é‡ã€‚å¦å¤–lambdaè¡¨è¾¾å¼å¯ä»¥ä¸æ•è·è€Œä½¿ç”¨æˆ–è¯»å–ä¸€äº›å˜é‡ï¼Œæ¯”å¦‚å…¨å±€å˜é‡ã€é™æ€å±€éƒ¨å˜é‡ç­‰ï¼Œå…·ä½“ç±»å‹å¯ä»¥æŸ¥çœ‹å‚è€ƒ[1]ã€‚</p>
<pre><code class="language-c++">
#include &lt;iostream&gt;
using namespace std;

int i = 10;
int main()
{
    static int j = 1;
    auto f = []() {cout &lt;&lt;&quot;i:&quot;&lt;&lt; i &lt;&lt;&quot;\tj:&quot;&lt;&lt; j; };
    f();
}
// out:
// i:10	j:1
</code></pre>
<h2 id="params">params</h2>
<p>å’Œå‡½æ•°å‚æ•°å·®ä¸å¤šï¼Œåœ¨C++14åä¸æ”¯æŒæŒ‡å®šå‚æ•°é»˜è®¤å€¼ä¸”æ”¯æŒç”¨autoå£°æ˜å‚æ•°ã€‚<br>
<strong>å‚æ•°åä¸å˜é‡åç›¸åŒä¼šéšè—æ‰€æ•è·çš„å˜é‡ã€‚</strong></p>
<h2 id="ret">ret</h2>
<p>è¿”å›å€¼ç±»å‹ï¼Œå¯çœç•¥ã€‚çœç•¥åè¦æ³¨æ„ä¸åŒåˆ†æ”¯ä¸‹è¿”å›å€¼ç±»å‹è¦ä¿æŒä¸€è‡´ã€‚</p>
<h2 id="body">body</h2>
<p>å‡½æ•°ä½“ã€‚å½“å˜é‡ä¸ºå€¼æ•è·æ—¶ï¼Œè¦åœ¨lambdaè¡¨è¾¾å¼çš„parameter listï¼ˆä¸å¯çœç•¥ï¼‰ å’Œ return typeï¼ˆçœç•¥æˆ–&quot;-&gt;ret&quot;å½¢å¼ï¼‰ä¹‹é—´æŒ‡å®šè¯´æ˜ç¬¦ä¸ºmutableæ‰èƒ½ä¿®æ”¹å˜é‡çš„å€¼ï¼Œä½†ä»æ˜¯å€¼å¼•ç”¨ã€‚</p>
<pre><code class="language-c++">
int i = 0;
auto f = [i]() mutable {return ++i; };
cout &lt;&lt; &quot;i:&quot; &lt;&lt; i &lt;&lt; &quot;\tf():&quot; &lt;&lt; f();

// out:
// i:0     f():1
</code></pre>
<h1 id="ä¾‹å­">ä¾‹å­</h1>
<p>åœ¨ä¸€äº›éœ€è¦è¾“å…¥å‡½æ•°çš„æ—¶å€™å°±å¯ä»¥ç”¨lambdaç”ŸæˆåŒ¿åå‡½æ•°ä¼ å…¥ï¼Œæ¯”å¦‚stdä¸­çš„sortã€for_eachç­‰å‡½æ•°ã€‚</p>
<pre><code class="language-c++">int main()
{
    using namespace std;
    vector&lt;int&gt; nums = { 1,2,3,4,5,6,7 };

    // ä½¿ç”¨lambdaå’Œfor_eachå®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨äºè¾“å‡ºvector
    auto print_vec = [](const vector&lt;int&gt; vec) {
        for_each(vec.begin(), vec.end(), [](int i) {cout &lt;&lt; i &lt;&lt; '\t'; });
    };
    print_vec(nums);
    cout &lt;&lt; endl;

    // å¼•ç”¨æ–¹å¼ä¿®æ”¹å€¼
    for_each(nums.begin(), nums.end(), [](int&amp; i) { i -= 4; });
    print_vec(nums);
    cout &lt;&lt; endl;

    // sortè‡ªå®šä¹‰æ’åº
    sort(nums.begin(), nums.end(), [](int a, int b) -&gt; bool { return abs(a) &lt; abs(b); }); 
    print_vec(nums);
    cout &lt;&lt; endl;
}
// out:
// 1       2       3       4       5       6       7
// -3      -2      -1      0       1       2       3
// 0       -1      1       -2      2       -3      3
</code></pre>
<hr>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>[1]<a href="https://zh.cppreference.com/w/cpp/language/lambda">cppreference-lambda</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hexo è½¬åˆ° Gridea]]></title>
        <id>https://txSangyj.github.io/post/hexo-zhuan-dao-gridea/</id>
        <link href="https://txSangyj.github.io/post/hexo-zhuan-dao-gridea/">
        </link>
        <updated>2019-07-17T06:36:21.000Z</updated>
        <summary type="html"><![CDATA[<p><br>
é€›è®ºå›æ—¶å€™å‘ç°ä¸ªæ–°ç©å…·<a href="https://gridea.dev/">Gridea</a>ï¼Œç„¶åå°±æŠŠåŸæ¥Hexoä¸‹çš„ä¸œè¥¿è¿åˆ°äº†Grideaä¸‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC">
<li><a href="#%E9%85%8D%E7%BD%AE">é…ç½®</a></li>
<li><a href="#%E6%96%87%E7%AB%A0">æ–‡ç« </a></li>
<li><a href="#%E5%9B%BE%E7%89%87">å›¾ç‰‡</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98">å…¶ä»–é—®é¢˜</a></li>
</ul>
<br>
é€›è®ºå›æ—¶å€™å‘ç°ä¸ªæ–°ç©å…·<a href="https://gridea.dev/">Gridea</a>ï¼Œç„¶åå°±æŠŠåŸæ¥Hexoä¸‹çš„ä¸œè¥¿è¿åˆ°äº†Grideaä¸‹ã€‚</p>
<!-- more -->
<h1 id="é…ç½®">é…ç½®</h1>
<p>ä¸Šæ•™ç¨‹<a href="https://gridea.dev/docs/">Gridea doc</a></p>
<h1 id="æ–‡ç« ">æ–‡ç« </h1>
<p>åŸHexoçš„source/_postä¸‹çš„.mdæ–‡ä»¶å¤åˆ¶åˆ°Grideaæºæ–‡ä»¶å¤¹ä¸‹çš„postsä¸‹ã€‚æ³¨æ„postsä¸‹<strong>ä¸èƒ½</strong>æœ‰æ–‡ä»¶å¤¹ã€‚<s>å¯èƒ½æ˜¯Bugå§ã€‚</s></p>
<h1 id="å›¾ç‰‡">å›¾ç‰‡</h1>
<p>åˆä¸èƒ½æœ‰asset_folderï¼ŒGrideaæ’å…¥çš„å›¾ç‰‡ä½¿ç”¨çš„åˆæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥æŠŠä¹‹å‰çš„å›¾ç‰‡è½¬æˆäº†å›¾åºŠé“¾æ¥ã€‚ç”¨çš„æ˜¯<a href="https://github.com/kookob/smpic">Simpic</a>ä¸Šä¼ ã€‚</p>
<h1 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h1>
<ul>
<li>åŸæ¥çš„ä¸»é¢˜ä¸ä¼šé€‚é…ã€‚</li>
<li>æ–‡ç« çš„åˆ†ç±»æ²¡æœ‰è‡ªåŠ¨è¯†åˆ«ã€‚</li>
<li>Grideaä¸‹å†™ä¸œè¥¿<strong>åƒä¸‡ä¸è¦éšä¾¿ç‚¹è¿”å›</strong>ã€‚</li>
<li>å»ºè®®æ–‡ç« éƒ½æ·»åŠ &lt;!-- more --&gt;ä¸ç„¶æœ‰çš„ä¸»é¡µæ˜¾ç¤ºä¼šå‡ºç°é”™ä½ã€‚</li>
<li>å­—æ•°ç»Ÿè®¡ã€ç‚¹å‡»ç»Ÿè®¡å¥½åƒæš‚ä¸æ”¯æŒã€‚</li>
</ul>
]]></content>
    </entry>
</feed>